{% extends "base.html" %}
{% block body %}
    <div class="container">
    </p>
    <div class="row gutters-sm">
        <div class="col-md-4 mb-3">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex flex-column align-items-center text-center">
                        {% if current_user.avatar %}
                            <img src="{{current_user.avatar}}" class="rounded-circle" width="150">
                        {% else %}
                            <img src="{{url_for('static', filename='avatar.png')}}" class="rounded-circle" width="150">
                        {% endif %}
                        <div class="mt-3">
                            <h4>{{current_user.username}}</h4>
                            <p class="text-secondary mb-1">SCIST 1st</p>
                            <button class="btn btn-primary">Follow</button>
                            <button class="btn btn-outline-primary">Message</button>
                        </div>
                    </div>
                </div>
            </div>
            </p> 
            <div class="card mb-3">
                </p>
                <center><h5>使用者設定</h5></center>
                <div class="card-body">
                    <form method="POST", action="/userpage/UpdateUserForm">
                        {{ UserConfigForm.hidden_tag() }}
                        <div class="form-group">
                            {{ UserConfigForm.username.label }}
                            {{ UserConfigForm.username(class_="form-control form-control-lg", value=current_user.username) }}
                            </p>
                            {{ UserConfigForm.email.label }}
                            {{ UserConfigForm.email(class_="form-control form-control-lg", value=current_user.email) }}
                            </p>
                            {{ UserConfigForm.avatar.label }}
                            {{ UserConfigForm.avatar(class_="form-control form-control-lg", value=current_user.avatar) }}
                        </div>
                        {{UserConfigForm.submit(class_="btn btn-primary btn-lg")}}
                    </form>
                </div>
            </div>
        </div>
        <div class="col-md-8">
            <div class="card mb-3">
                </p>
                <center><h3>OJ 設定</h3></center>
                <div class="card-body">
                    <form method="POST", action="/userpage/UpdateOJForm">
                        {{ OJConfigForm.hidden_tag() }}
                        <div class="form-group">
                            {{ OJConfigForm.uva_handle.label }}
                            {{ OJConfigForm.uva_handle(class_="form-control form-control-lg", value=current_user.uva_handle) }}
                            </p>
                            {{ OJConfigForm.toj_id.label }}
                            {{ OJConfigForm.toj_id(class_="form-control form-control-lg", value=current_user.toj_id) }}
                            </p>
                            {{ OJConfigForm.zoj_handle.label }}
                            {{ OJConfigForm.zoj_handle(class_="form-control form-control-lg", value=current_user.zoj_handle) }}
                            </p>
                            {{ OJConfigForm.atcoder_handle.label }}
                            {{ OJConfigForm.atcoder_handle(class_="form-control form-control-lg", value=current_user.atcoder_handle) }}
                            </p>
                            {{ OJConfigForm.cf_handle.label }}
                            {{ OJConfigForm.cf_handle(class_="form-control form-control-lg", value=current_user.cf_handle) }}
                        </div>
                        {{OJConfigForm.submit(class_="btn btn-primary btn-lg")}}
                    </form>
                </div>
            </div>
        </div>
    </div>
    </div>
{% endblock %}
{% block username %}
    {% if current_user.is_authenticated %}
        <li class="nav-item">
            <a class="nav-link" href="{{url_for('userpage')}}">
                {{current_user.username}}
            </a>
        </li>
    {% endif %}
{% endblock %}